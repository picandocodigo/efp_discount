/* EFP Unofficial discount calculator */

var amountInput=document.getElementById("amount"),discounted=document.getElementById("discounted"),efp5={element:document.getElementById("efp5"),discount:5},efp10={element:document.getElementById("efp10"),discount:10},daytime={element:document.getElementById("daytime"),discount:15},ambassador={element:document.getElementById("ambassador"),discount:5},tattoo={element:document.getElementById("tattoo"),discount:20},discounts=[efp5,efp10,daytime,ambassador,tattoo];function calculate_discounts(){if(""!=amountInput.value&&null!=amountInput.value){var e=amountInput.value,t=parseFloat(e);discounts.forEach(function(e){1==e.element.checked&&(t=t*(100-e.discount)/100)}),discounted.value=Number(t.toFixed(2))}else discounted.value=""}efp5.element.addEventListener("change",function(){1==efp10.element.checked&&(efp10.element.checked=!1)}),efp10.element.addEventListener("change",function(){1==efp5.element.checked&&(efp5.element.checked=!1)}),tattoo.element.addEventListener("change",function(){[daytime,ambassador].forEach(function(e){1==e.element.checked&&(e.element.checked=!1)})}),[daytime,ambassador].forEach(function(e){e.element.addEventListener("change",function(){1==tattoo.element.checked&&(tattoo.element.checked=!1)})}),discounts.forEach(function(e){e.element.addEventListener("change",function(){calculate_discounts()})}),amountInput.addEventListener("input",function(){calculate_discounts()});